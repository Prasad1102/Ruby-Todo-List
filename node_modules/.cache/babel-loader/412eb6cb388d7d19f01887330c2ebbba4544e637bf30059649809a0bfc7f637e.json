{"ast":null,"code":"import React, { useEffect, useState } from \"react\";\nconst Paginate = () => {\n  const [state, setState] = useState({\n    todos: [],\n    perPage: 3,\n    page: 1\n  });\n  useEffect(() => {\n    fetchTodos();\n  }, [state.page]);\n  const fetchTodos = () => {\n    console.log(state.page, state.perPage);\n    API.getTodos({\n      page: state.page,\n      per_page: state.perPage\n    }).then(response => {\n      setTodos(response.data);\n      setState(prevState => {\n        return {\n          ...prevState,\n          // Spread operator used to retain previous state\n          todos: response.data // Updating 'todos' property in the state with new data from response\n        };\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  const changePage = page => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        // Spread operator used to retain previous state\n        page: page // Updating 'todos' property in the state with new data from response\n      };\n    });\n  };\n  const totalPages = Math.ceil(todos.length / state.perPage);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      if (state.page > 1) {\n        changePage(state.page - 1);\n      }\n    }\n  }, \"Prev\"), \"...\", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      changePage(1);\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      changePage(2);\n    }\n  }, \"2\"), \"...\", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      if (todos.length >= 1 && todos.length != 0) {\n        changePage(state.page + 1);\n      }\n    }\n  }, \"Next\")));\n};\nexport default Paginate;","map":{"version":3,"names":["React","useEffect","useState","Paginate","state","setState","todos","perPage","page","fetchTodos","console","log","API","getTodos","per_page","then","response","setTodos","data","prevState","catch","error","changePage","totalPages","Math","ceil","length","createElement","Fragment","onClick"],"sources":["/home/prasad/Ruby/BlogApp/app/javascript/components/Todos/Paginate.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst Paginate = () => {\n  const [state, setState] = useState({ todos: [], perPage: 3, page: 1 });\n\n  useEffect(() => {\n    fetchTodos();\n  }, [state.page]);\n\n  const fetchTodos = () => {\n    console.log(state.page, state.perPage);\n    API.getTodos({ page: state.page, per_page: state.perPage })\n      .then((response) => {\n        setTodos(response.data);\n        setState((prevState) => {\n          return {\n            ...prevState, // Spread operator used to retain previous state\n            todos: response.data, // Updating 'todos' property in the state with new data from response\n          };\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  const changePage = (page) => {\n    setState((prevState) => {\n      return {\n        ...prevState, // Spread operator used to retain previous state\n        page: page, // Updating 'todos' property in the state with new data from response\n      };\n    });\n  };\n\n  const totalPages = Math.ceil(todos.length / state.perPage);\n\n  return (\n    <>\n      <div>\n        <button\n          onClick={() => {\n            if (state.page > 1) {\n              changePage(state.page - 1);\n            }\n          }}\n        >\n          Prev\n        </button>\n        ...\n        <button\n          onClick={() => {\n            changePage(1);\n          }}\n        >\n          1\n        </button>\n        <button\n          onClick={() => {\n            changePage(2);\n          }}\n        >\n          2\n        </button>\n        ...\n        <button\n          onClick={() => {\n            if (todos.length >= 1 && todos.length != 0) {\n              changePage(state.page + 1);\n            }\n          }}\n        >\n          Next\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default Paginate;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAElD,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EACrB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGH,QAAQ,CAAC;IAAEI,KAAK,EAAE,EAAE;IAAEC,OAAO,EAAE,CAAC;IAAEC,IAAI,EAAE;EAAE,CAAC,CAAC;EAEtEP,SAAS,CAAC,MAAM;IACdQ,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACL,KAAK,CAACI,IAAI,CAAC,CAAC;EAEhB,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvBC,OAAO,CAACC,GAAG,CAACP,KAAK,CAACI,IAAI,EAAEJ,KAAK,CAACG,OAAO,CAAC;IACtCK,GAAG,CAACC,QAAQ,CAAC;MAAEL,IAAI,EAAEJ,KAAK,CAACI,IAAI;MAAEM,QAAQ,EAAEV,KAAK,CAACG;IAAQ,CAAC,CAAC,CACxDQ,IAAI,CAAEC,QAAQ,IAAK;MAClBC,QAAQ,CAACD,QAAQ,CAACE,IAAI,CAAC;MACvBb,QAAQ,CAAEc,SAAS,IAAK;QACtB,OAAO;UACL,GAAGA,SAAS;UAAE;UACdb,KAAK,EAAEU,QAAQ,CAACE,IAAI,CAAE;QACxB,CAAC;MACH,CAAC,CAAC;IACJ,CAAC,CAAC,CACDE,KAAK,CAAC,UAAUC,KAAK,EAAE;MACtBX,OAAO,CAACC,GAAG,CAACU,KAAK,CAAC;IACpB,CAAC,CAAC;EACN,CAAC;EAED,MAAMC,UAAU,GAAId,IAAI,IAAK;IAC3BH,QAAQ,CAAEc,SAAS,IAAK;MACtB,OAAO;QACL,GAAGA,SAAS;QAAE;QACdX,IAAI,EAAEA,IAAI,CAAE;MACd,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EAED,MAAMe,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACnB,KAAK,CAACoB,MAAM,GAAGtB,KAAK,CAACG,OAAO,CAAC;EAE1D,oBACEP,KAAA,CAAA2B,aAAA,CAAA3B,KAAA,CAAA4B,QAAA,qBACE5B,KAAA,CAAA2B,aAAA,2BACE3B,KAAA,CAAA2B,aAAA;IACEE,OAAO,EAAEA,CAAA,KAAM;MACb,IAAIzB,KAAK,CAACI,IAAI,GAAG,CAAC,EAAE;QAClBc,UAAU,CAAClB,KAAK,CAACI,IAAI,GAAG,CAAC,CAAC;MAC5B;IACF;EAAE,GACH,MAEO,CAAC,OAET,eAAAR,KAAA,CAAA2B,aAAA;IACEE,OAAO,EAAEA,CAAA,KAAM;MACbP,UAAU,CAAC,CAAC,CAAC;IACf;EAAE,GACH,GAEO,CAAC,eACTtB,KAAA,CAAA2B,aAAA;IACEE,OAAO,EAAEA,CAAA,KAAM;MACbP,UAAU,CAAC,CAAC,CAAC;IACf;EAAE,GACH,GAEO,CAAC,OAET,eAAAtB,KAAA,CAAA2B,aAAA;IACEE,OAAO,EAAEA,CAAA,KAAM;MACb,IAAIvB,KAAK,CAACoB,MAAM,IAAI,CAAC,IAAIpB,KAAK,CAACoB,MAAM,IAAI,CAAC,EAAE;QAC1CJ,UAAU,CAAClB,KAAK,CAACI,IAAI,GAAG,CAAC,CAAC;MAC5B;IACF;EAAE,GACH,MAEO,CACL,CACL,CAAC;AAEP,CAAC;AAED,eAAeL,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}